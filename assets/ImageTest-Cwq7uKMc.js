import{j as e}from"./vendor-ui-Bq_-EsXc.js";import{a as n}from"./vendor-react-Cmwg8GZL.js";import{s as m,S as g}from"./index-DSA3-jpL.js";import{D as h}from"./DirectImage-Bpl8aNBA.js";const w=()=>{const[l,u]=n.useState([]),[o,j]=n.useState([]),[f,b]=n.useState(!0),[x,t]=n.useState(null);n.useEffect(()=>{(async()=>{b(!0),t(null);try{const{data:s,error:a}=await m.storage.from(g).list("banner");a?(console.error("Error fetching banner images:",a),t(`Error fetching banner images: ${a.message}`)):s&&(console.log("Banner files:",s),u(s.map(d=>`banner/${d.name}`)));const{data:c,error:i}=await m.storage.from(g).list("scanner");i?(console.error("Error fetching scanner images:",i),t(`Error fetching scanner images: ${i.message}`)):c&&(console.log("Scanner files:",c),j(c.map(d=>`scanner/${d.name}`)))}catch(s){console.error("Error fetching images:",s),t(`Unexpected error: ${s instanceof Error?s.message:String(s)}`)}finally{b(!1)}})()},[]);const p=()=>{const r=[];for(const s of[...l,...o]){const{data:a}=m.storage.from(g).getPublicUrl(s);r.push({path:s,url:a.publicUrl})}console.log("Direct URLs:",r)};return e.jsxs("div",{className:"p-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Image Test Page"}),x&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:x}),e.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-6",onClick:p,children:"Log Direct URLs"}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Banner Images (",l.length,")"]}),f?e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):l.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-6",children:l.map(r=>e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsx(h,{path:r,alt:"Banner Image",className:"w-full h-64 object-contain"}),e.jsx("div",{className:"p-4 bg-gray-100",children:e.jsx("p",{className:"font-mono text-sm break-all",children:r})})]},r))}):e.jsx("p",{children:"No banner images found"})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Scanner Images (",o.length,")"]}),f?e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):o.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:o.map(r=>e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsx(h,{path:r,alt:"Scanner Image",className:"w-full h-48 object-contain"}),e.jsx("div",{className:"p-4 bg-gray-100",children:e.jsx("p",{className:"font-mono text-sm break-all",children:r})})]},r))}):e.jsx("p",{children:"No scanner images found"})]})]})};export{w as default};
