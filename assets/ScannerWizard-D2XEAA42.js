import{j as x,A as Be,m as Y}from"./vendor-ui-Bp3seDoC.js";import{a as E,c as Ie,r as _e,b as We,g as Fe,h as je,R as X}from"./vendor-react-Dyhn-Q9i.js";import{m as ne,r as Ue,u as Xe,a as Ye,b as $e,C as qe,T as Ge}from"./FormField-BKR9hyVF.js";import{a as Oe,g as fe,u as Ve,b as Ke,T as Qe}from"./index-5Pbs-9of.js";import{H as V}from"./HolographicText-MdM1ZSag.js";const Ze={hidden:{opacity:0},visible:{opacity:1}},Je={hidden:{opacity:0,scale:.95,y:20},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",damping:25,stiffness:300}},exit:{opacity:0,scale:.95,y:20,transition:{duration:.2}}},et=({isOpen:r,onClose:s,title:t,children:e,footer:i,size:o="md",showCloseButton:l=!0})=>{const d={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[o];return x.jsx(Be,{mode:"wait",children:r&&x.jsxs(E.Fragment,{children:[x.jsx(Y.div,{variants:Ze,initial:"hidden",animate:"visible",exit:"hidden",onClick:s,className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40"}),x.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:x.jsxs(Y.div,{variants:Je,initial:"hidden",animate:"visible",exit:"exit",className:`${d} w-full bg-white rounded-lg shadow-xl`,onClick:m=>m.stopPropagation(),children:[x.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[x.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:t}),l&&x.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:x.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsx("div",{className:"px-6 py-4",children:e}),i&&x.jsx("div",{className:"px-6 py-4 border-t bg-gray-50 rounded-b-lg",children:i})]})})]})})},tt=()=>{const{state:r}=Oe(),{answers:s,sections:t,questions:e}=r,i=E.useMemo(()=>ne(p=>p.filter(g=>g.isMandatory)),[]),o=E.useMemo(()=>ne((p,g)=>p.find(y=>y.id===g)),[]),l=E.useMemo(()=>ne((p,g)=>p.find(y=>y.id===g)),[]),d=E.useCallback((p,g,y)=>{const b=new RegExp(`{{\\s*${g}\\s*}}`,"g");return p.replace(b,y)},[]),m=E.useCallback(p=>{let g="";const y=new Set;return p.forEach(b=>{g+=`// --- Section: ${b.title} (Mandatory) ---
`,g+=b.code+`

`,y.add(b.id)}),{code:g,includedIds:y}},[]),v=E.useCallback((p,g,y,b)=>{let D="";return Object.entries(p).forEach(([w,f])=>{const n=o(g,w);if(!n)return;let c;if(n.type==="choice"&&f?(Array.isArray(f)?f:[f]).forEach(S=>{const P=n.options?.find(a=>a.value===S);P?.linkedSectionId&&(c=P.linkedSectionId)}):(n.type==="text"||n.type==="boolean")&&n.linkedSectionId&&(c=n.linkedSectionId),c&&!b.has(c)){const h=l(y,c);if(h){let S=h.code;n.type==="text"&&n.placeholderVariable&&typeof f=="string"&&(S=d(S,n.placeholderVariable,f)),D+=`// --- Section: ${h.title} (Linked by: ${n.text.substring(0,20)}...) ---
`,D+=S+`

`,b.add(h.id)}}else n.type==="text"&&n.placeholderVariable&&typeof f=="string"&&!c&&(D+=`// User input for "${n.text.substring(0,20)}...": ${f}

`)}),D},[o,l,d]),z=E.useMemo(()=>{const p=i(t),{code:g,includedIds:y}=m(p),b=v(s,e,t,y);return(g+b).trim()||"// No code generated yet. Answer questions or mark sections as mandatory."},[s,t,e,i,m,v]);return x.jsxs("div",{className:"sticky top-4 h-[calc(100vh-2rem)] overflow-hidden rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[x.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:x.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Live Code Preview"})}),x.jsx("pre",{className:"p-4 overflow-auto h-[calc(100%-41px)] bg-white dark:bg-gray-900 text-sm text-gray-800 dark:text-gray-200 font-mono",children:x.jsx("code",{children:z})})]})};var K={exports:{}},oe={},ae={exports:{}},le,ge;function rt(){if(ge)return le;ge=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return le=r,le}var de,me;function it(){if(me)return de;me=1;var r=rt();function s(){}function t(){}return t.resetWarningCache=s,de=function(){function e(l,d,m,v,z,p){if(p!==r){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}e.isRequired=e;function i(){return e}var o={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:i,element:e,elementType:e,instanceOf:i,node:e,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:s};return o.PropTypes=o,o},de}var ve;function ke(){return ve||(ve=1,ae.exports=it()()),ae.exports}function He(r){var s,t,e="";if(typeof r=="string"||typeof r=="number")e+=r;else if(typeof r=="object")if(Array.isArray(r))for(s=0;s<r.length;s++)r[s]&&(t=He(r[s]))&&(e&&(e+=" "),e+=t);else for(s in r)r[s]&&(e&&(e+=" "),e+=s);return e}function ye(){for(var r,s,t=0,e="";t<arguments.length;)(r=arguments[t++])&&(s=He(r))&&(e&&(e+=" "),e+=s);return e}const st=Object.freeze(Object.defineProperty({__proto__:null,clsx:ye,default:ye},Symbol.toStringTag,{value:"Module"})),nt=Ie(st);var _={},I={},be;function se(){if(be)return I;be=1,Object.defineProperty(I,"__esModule",{value:!0}),I.dontSetMe=i,I.findInArray=r,I.int=e,I.isFunction=s,I.isNum=t;function r(o,l){for(let d=0,m=o.length;d<m;d++)if(l.apply(l,[o[d],d,o]))return o[d]}function s(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Function]"}function t(o){return typeof o=="number"&&!isNaN(o)}function e(o){return parseInt(o,10)}function i(o,l,d){if(o[l])return new Error("Invalid prop ".concat(l," passed to ").concat(d," - do not set this, set it on the child."))}return I}var F={},xe;function ot(){if(xe)return F;xe=1,Object.defineProperty(F,"__esModule",{value:!0}),F.browserPrefixToKey=t,F.browserPrefixToStyle=e,F.default=void 0,F.getPrefix=s;const r=["Moz","Webkit","O","ms"];function s(){var o;let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const d=(o=window.document)===null||o===void 0||(o=o.documentElement)===null||o===void 0?void 0:o.style;if(!d||l in d)return"";for(let m=0;m<r.length;m++)if(t(l,r[m])in d)return r[m];return""}function t(o,l){return l?"".concat(l).concat(i(o)):o}function e(o,l){return l?"-".concat(l.toLowerCase(),"-").concat(o):o}function i(o){let l="",d=!0;for(let m=0;m<o.length;m++)d?(l+=o[m].toUpperCase(),d=!1):o[m]==="-"?d=!0:l+=o[m];return l}return F.default=s(),F}var we;function pe(){if(we)return _;we=1,Object.defineProperty(_,"__esModule",{value:!0}),_.addClassName=S,_.addEvent=d,_.addUserSelectStyles=c,_.createCSSTransform=b,_.createSVGTransform=D,_.getTouch=f,_.getTouchIdentifier=n,_.getTranslation=w,_.innerHeight=p,_.innerWidth=g,_.matchesSelector=o,_.matchesSelectorAndParentsTo=l,_.offsetXYFromParent=y,_.outerHeight=v,_.outerWidth=z,_.removeClassName=P,_.removeEvent=m,_.removeUserSelectStyles=h;var r=se(),s=e(ot());function t(a){if(typeof WeakMap!="function")return null;var u=new WeakMap,N=new WeakMap;return(t=function(R){return R?N:u})(a)}function e(a,u){if(a&&a.__esModule)return a;if(a===null||typeof a!="object"&&typeof a!="function")return{default:a};var N=t(u);if(N&&N.has(a))return N.get(a);var R={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in a)if(C!=="default"&&Object.prototype.hasOwnProperty.call(a,C)){var T=M?Object.getOwnPropertyDescriptor(a,C):null;T&&(T.get||T.set)?Object.defineProperty(R,C,T):R[C]=a[C]}return R.default=a,N&&N.set(a,R),R}let i="";function o(a,u){return i||(i=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(N){return(0,r.isFunction)(a[N])})),(0,r.isFunction)(a[i])?a[i](u):!1}function l(a,u,N){let R=a;do{if(o(R,u))return!0;if(R===N)return!1;R=R.parentNode}while(R);return!1}function d(a,u,N,R){if(!a)return;const M={capture:!0,...R};a.addEventListener?a.addEventListener(u,N,M):a.attachEvent?a.attachEvent("on"+u,N):a["on"+u]=N}function m(a,u,N,R){if(!a)return;const M={capture:!0,...R};a.removeEventListener?a.removeEventListener(u,N,M):a.detachEvent?a.detachEvent("on"+u,N):a["on"+u]=null}function v(a){let u=a.clientHeight;const N=a.ownerDocument.defaultView.getComputedStyle(a);return u+=(0,r.int)(N.borderTopWidth),u+=(0,r.int)(N.borderBottomWidth),u}function z(a){let u=a.clientWidth;const N=a.ownerDocument.defaultView.getComputedStyle(a);return u+=(0,r.int)(N.borderLeftWidth),u+=(0,r.int)(N.borderRightWidth),u}function p(a){let u=a.clientHeight;const N=a.ownerDocument.defaultView.getComputedStyle(a);return u-=(0,r.int)(N.paddingTop),u-=(0,r.int)(N.paddingBottom),u}function g(a){let u=a.clientWidth;const N=a.ownerDocument.defaultView.getComputedStyle(a);return u-=(0,r.int)(N.paddingLeft),u-=(0,r.int)(N.paddingRight),u}function y(a,u,N){const M=u===u.ownerDocument.body?{left:0,top:0}:u.getBoundingClientRect(),C=(a.clientX+u.scrollLeft-M.left)/N,T=(a.clientY+u.scrollTop-M.top)/N;return{x:C,y:T}}function b(a,u){const N=w(a,u,"px");return{[(0,s.browserPrefixToKey)("transform",s.default)]:N}}function D(a,u){return w(a,u,"")}function w(a,u,N){let{x:R,y:M}=a,C="translate(".concat(R).concat(N,",").concat(M).concat(N,")");if(u){const T="".concat(typeof u.x=="string"?u.x:u.x+N),W="".concat(typeof u.y=="string"?u.y:u.y+N);C="translate(".concat(T,", ").concat(W,")")+C}return C}function f(a,u){return a.targetTouches&&(0,r.findInArray)(a.targetTouches,N=>u===N.identifier)||a.changedTouches&&(0,r.findInArray)(a.changedTouches,N=>u===N.identifier)}function n(a){if(a.targetTouches&&a.targetTouches[0])return a.targetTouches[0].identifier;if(a.changedTouches&&a.changedTouches[0])return a.changedTouches[0].identifier}function c(a){if(!a)return;let u=a.getElementById("react-draggable-style-el");u||(u=a.createElement("style"),u.type="text/css",u.id="react-draggable-style-el",u.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,u.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,a.getElementsByTagName("head")[0].appendChild(u)),a.body&&S(a.body,"react-draggable-transparent-selection")}function h(a){if(a)try{if(a.body&&P(a.body,"react-draggable-transparent-selection"),a.selection)a.selection.empty();else{const u=(a.defaultView||window).getSelection();u&&u.type!=="Caret"&&u.removeAllRanges()}}catch{}}function S(a,u){a.classList?a.classList.add(u):a.className.match(new RegExp("(?:^|\\s)".concat(u,"(?!\\S)")))||(a.className+=" ".concat(u))}function P(a,u){a.classList?a.classList.remove(u):a.className=a.className.replace(new RegExp("(?:^|\\s)".concat(u,"(?!\\S)"),"g"),"")}return _}var A={},Se;function Le(){if(Se)return A;Se=1,Object.defineProperty(A,"__esModule",{value:!0}),A.canDragX=i,A.canDragY=o,A.createCoreData=d,A.createDraggableData=m,A.getBoundPosition=t,A.getControlPosition=l,A.snapToGrid=e;var r=se(),s=pe();function t(p,g,y){if(!p.props.bounds)return[g,y];let{bounds:b}=p.props;b=typeof b=="string"?b:v(b);const D=z(p);if(typeof b=="string"){const{ownerDocument:w}=D,f=w.defaultView;let n;if(b==="parent"?n=D.parentNode:n=w.querySelector(b),!(n instanceof f.HTMLElement))throw new Error('Bounds selector "'+b+'" could not find an element.');const c=n,h=f.getComputedStyle(D),S=f.getComputedStyle(c);b={left:-D.offsetLeft+(0,r.int)(S.paddingLeft)+(0,r.int)(h.marginLeft),top:-D.offsetTop+(0,r.int)(S.paddingTop)+(0,r.int)(h.marginTop),right:(0,s.innerWidth)(c)-(0,s.outerWidth)(D)-D.offsetLeft+(0,r.int)(S.paddingRight)-(0,r.int)(h.marginRight),bottom:(0,s.innerHeight)(c)-(0,s.outerHeight)(D)-D.offsetTop+(0,r.int)(S.paddingBottom)-(0,r.int)(h.marginBottom)}}return(0,r.isNum)(b.right)&&(g=Math.min(g,b.right)),(0,r.isNum)(b.bottom)&&(y=Math.min(y,b.bottom)),(0,r.isNum)(b.left)&&(g=Math.max(g,b.left)),(0,r.isNum)(b.top)&&(y=Math.max(y,b.top)),[g,y]}function e(p,g,y){const b=Math.round(g/p[0])*p[0],D=Math.round(y/p[1])*p[1];return[b,D]}function i(p){return p.props.axis==="both"||p.props.axis==="x"}function o(p){return p.props.axis==="both"||p.props.axis==="y"}function l(p,g,y){const b=typeof g=="number"?(0,s.getTouch)(p,g):null;if(typeof g=="number"&&!b)return null;const D=z(y),w=y.props.offsetParent||D.offsetParent||D.ownerDocument.body;return(0,s.offsetXYFromParent)(b||p,w,y.props.scale)}function d(p,g,y){const b=!(0,r.isNum)(p.lastX),D=z(p);return b?{node:D,deltaX:0,deltaY:0,lastX:g,lastY:y,x:g,y}:{node:D,deltaX:g-p.lastX,deltaY:y-p.lastY,lastX:p.lastX,lastY:p.lastY,x:g,y}}function m(p,g){const y=p.props.scale;return{node:g.node,x:p.state.x+g.deltaX/y,y:p.state.y+g.deltaY/y,deltaX:g.deltaX/y,deltaY:g.deltaY/y,lastX:p.state.x,lastY:p.state.y}}function v(p){return{left:p.left,top:p.top,right:p.right,bottom:p.bottom}}function z(p){const g=p.findDOMNode();if(!g)throw new Error("<DraggableCore>: Unmounted during event!");return g}return A}var Q={},Z={},ze;function Ae(){if(ze)return Z;ze=1,Object.defineProperty(Z,"__esModule",{value:!0}),Z.default=r;function r(){}return Z}var De;function at(){if(De)return Q;De=1,Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=void 0;var r=v(_e()),s=d(ke()),t=d(We()),e=pe(),i=Le(),o=se(),l=d(Ae());function d(w){return w&&w.__esModule?w:{default:w}}function m(w){if(typeof WeakMap!="function")return null;var f=new WeakMap,n=new WeakMap;return(m=function(c){return c?n:f})(w)}function v(w,f){if(w&&w.__esModule)return w;if(w===null||typeof w!="object"&&typeof w!="function")return{default:w};var n=m(f);if(n&&n.has(w))return n.get(w);var c={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in w)if(S!=="default"&&Object.prototype.hasOwnProperty.call(w,S)){var P=h?Object.getOwnPropertyDescriptor(w,S):null;P&&(P.get||P.set)?Object.defineProperty(c,S,P):c[S]=w[S]}return c.default=w,n&&n.set(w,c),c}function z(w,f,n){return f=p(f),f in w?Object.defineProperty(w,f,{value:n,enumerable:!0,configurable:!0,writable:!0}):w[f]=n,w}function p(w){var f=g(w,"string");return typeof f=="symbol"?f:String(f)}function g(w,f){if(typeof w!="object"||w===null)return w;var n=w[Symbol.toPrimitive];if(n!==void 0){var c=n.call(w,f);if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(w)}const y={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let b=y.mouse,D=class extends r.Component{constructor(){super(...arguments),z(this,"dragging",!1),z(this,"lastX",NaN),z(this,"lastY",NaN),z(this,"touchIdentifier",null),z(this,"mounted",!1),z(this,"handleDragStart",f=>{if(this.props.onMouseDown(f),!this.props.allowAnyClick&&typeof f.button=="number"&&f.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:c}=n;if(this.props.disabled||!(f.target instanceof c.defaultView.Node)||this.props.handle&&!(0,e.matchesSelectorAndParentsTo)(f.target,this.props.handle,n)||this.props.cancel&&(0,e.matchesSelectorAndParentsTo)(f.target,this.props.cancel,n))return;f.type==="touchstart"&&f.preventDefault();const h=(0,e.getTouchIdentifier)(f);this.touchIdentifier=h;const S=(0,i.getControlPosition)(f,h,this);if(S==null)return;const{x:P,y:a}=S,u=(0,i.createCoreData)(this,P,a);(0,l.default)("DraggableCore: handleDragStart: %j",u),(0,l.default)("calling",this.props.onStart),!(this.props.onStart(f,u)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,e.addUserSelectStyles)(c),this.dragging=!0,this.lastX=P,this.lastY=a,(0,e.addEvent)(c,b.move,this.handleDrag),(0,e.addEvent)(c,b.stop,this.handleDragStop))}),z(this,"handleDrag",f=>{const n=(0,i.getControlPosition)(f,this.touchIdentifier,this);if(n==null)return;let{x:c,y:h}=n;if(Array.isArray(this.props.grid)){let a=c-this.lastX,u=h-this.lastY;if([a,u]=(0,i.snapToGrid)(this.props.grid,a,u),!a&&!u)return;c=this.lastX+a,h=this.lastY+u}const S=(0,i.createCoreData)(this,c,h);if((0,l.default)("DraggableCore: handleDrag: %j",S),this.props.onDrag(f,S)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const u=document.createEvent("MouseEvents");u.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(u)}return}this.lastX=c,this.lastY=h}),z(this,"handleDragStop",f=>{if(!this.dragging)return;const n=(0,i.getControlPosition)(f,this.touchIdentifier,this);if(n==null)return;let{x:c,y:h}=n;if(Array.isArray(this.props.grid)){let u=c-this.lastX||0,N=h-this.lastY||0;[u,N]=(0,i.snapToGrid)(this.props.grid,u,N),c=this.lastX+u,h=this.lastY+N}const S=(0,i.createCoreData)(this,c,h);if(this.props.onStop(f,S)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,e.removeUserSelectStyles)(a.ownerDocument),(0,l.default)("DraggableCore: handleDragStop: %j",S),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,l.default)("DraggableCore: Removing handlers"),(0,e.removeEvent)(a.ownerDocument,b.move,this.handleDrag),(0,e.removeEvent)(a.ownerDocument,b.stop,this.handleDragStop))}),z(this,"onMouseDown",f=>(b=y.mouse,this.handleDragStart(f))),z(this,"onMouseUp",f=>(b=y.mouse,this.handleDragStop(f))),z(this,"onTouchStart",f=>(b=y.touch,this.handleDragStart(f))),z(this,"onTouchEnd",f=>(b=y.touch,this.handleDragStop(f)))}componentDidMount(){this.mounted=!0;const f=this.findDOMNode();f&&(0,e.addEvent)(f,y.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const f=this.findDOMNode();if(f){const{ownerDocument:n}=f;(0,e.removeEvent)(n,y.mouse.move,this.handleDrag),(0,e.removeEvent)(n,y.touch.move,this.handleDrag),(0,e.removeEvent)(n,y.mouse.stop,this.handleDragStop),(0,e.removeEvent)(n,y.touch.stop,this.handleDragStop),(0,e.removeEvent)(f,y.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,e.removeUserSelectStyles)(n)}}findDOMNode(){var f,n;return(f=this.props)!==null&&f!==void 0&&f.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:t.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return Q.default=D,z(D,"displayName","DraggableCore"),z(D,"propTypes",{allowAnyClick:s.default.bool,children:s.default.node.isRequired,disabled:s.default.bool,enableUserSelectHack:s.default.bool,offsetParent:function(w,f){if(w[f]&&w[f].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:s.default.arrayOf(s.default.number),handle:s.default.string,cancel:s.default.string,nodeRef:s.default.object,onStart:s.default.func,onDrag:s.default.func,onStop:s.default.func,onMouseDown:s.default.func,scale:s.default.number,className:o.dontSetMe,style:o.dontSetMe,transform:o.dontSetMe}),z(D,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),Q}var Ne;function lt(){return Ne||(Ne=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"DraggableCore",{enumerable:!0,get:function(){return m.default}}),r.default=void 0;var s=g(_e()),t=z(ke()),e=z(We()),i=z(nt),o=pe(),l=Le(),d=se(),m=z(at()),v=z(Ae());function z(n){return n&&n.__esModule?n:{default:n}}function p(n){if(typeof WeakMap!="function")return null;var c=new WeakMap,h=new WeakMap;return(p=function(S){return S?h:c})(n)}function g(n,c){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var h=p(c);if(h&&h.has(n))return h.get(n);var S={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in n)if(a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)){var u=P?Object.getOwnPropertyDescriptor(n,a):null;u&&(u.get||u.set)?Object.defineProperty(S,a,u):S[a]=n[a]}return S.default=n,h&&h.set(n,S),S}function y(){return y=Object.assign?Object.assign.bind():function(n){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var S in h)Object.prototype.hasOwnProperty.call(h,S)&&(n[S]=h[S])}return n},y.apply(this,arguments)}function b(n,c,h){return c=D(c),c in n?Object.defineProperty(n,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):n[c]=h,n}function D(n){var c=w(n,"string");return typeof c=="symbol"?c:String(c)}function w(n,c){if(typeof n!="object"||n===null)return n;var h=n[Symbol.toPrimitive];if(h!==void 0){var S=h.call(n,c);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(n)}class f extends s.Component{static getDerivedStateFromProps(c,h){let{position:S}=c,{prevPropsPosition:P}=h;return S&&(!P||S.x!==P.x||S.y!==P.y)?((0,v.default)("Draggable: getDerivedStateFromProps %j",{position:S,prevPropsPosition:P}),{x:S.x,y:S.y,prevPropsPosition:{...S}}):null}constructor(c){super(c),b(this,"onDragStart",(h,S)=>{if((0,v.default)("Draggable: onDragStart: %j",S),this.props.onStart(h,(0,l.createDraggableData)(this,S))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),b(this,"onDrag",(h,S)=>{if(!this.state.dragging)return!1;(0,v.default)("Draggable: onDrag: %j",S);const P=(0,l.createDraggableData)(this,S),a={x:P.x,y:P.y,slackX:0,slackY:0};if(this.props.bounds){const{x:N,y:R}=a;a.x+=this.state.slackX,a.y+=this.state.slackY;const[M,C]=(0,l.getBoundPosition)(this,a.x,a.y);a.x=M,a.y=C,a.slackX=this.state.slackX+(N-a.x),a.slackY=this.state.slackY+(R-a.y),P.x=a.x,P.y=a.y,P.deltaX=a.x-this.state.x,P.deltaY=a.y-this.state.y}if(this.props.onDrag(h,P)===!1)return!1;this.setState(a)}),b(this,"onDragStop",(h,S)=>{if(!this.state.dragging||this.props.onStop(h,(0,l.createDraggableData)(this,S))===!1)return!1;(0,v.default)("Draggable: onDragStop: %j",S);const a={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:N,y:R}=this.props.position;a.x=N,a.y=R}this.setState(a)}),this.state={dragging:!1,dragged:!1,x:c.position?c.position.x:c.defaultPosition.x,y:c.position?c.position.y:c.defaultPosition.y,prevPropsPosition:{...c.position},slackX:0,slackY:0,isElementSVG:!1},c.position&&!(c.onDrag||c.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var c,h;return(c=(h=this.props)===null||h===void 0||(h=h.nodeRef)===null||h===void 0?void 0:h.current)!==null&&c!==void 0?c:e.default.findDOMNode(this)}render(){const{axis:c,bounds:h,children:S,defaultPosition:P,defaultClassName:a,defaultClassNameDragging:u,defaultClassNameDragged:N,position:R,positionOffset:M,scale:C,...T}=this.props;let W={},L=null;const U=!!!R||this.state.dragging,$=R||P,q={x:(0,l.canDragX)(this)&&U?this.state.x:$.x,y:(0,l.canDragY)(this)&&U?this.state.y:$.y};this.state.isElementSVG?L=(0,o.createSVGTransform)(q,M):W=(0,o.createCSSTransform)(q,M);const H=(0,i.default)(S.props.className||"",a,{[u]:this.state.dragging,[N]:this.state.dragged});return s.createElement(m.default,y({},T,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),s.cloneElement(s.Children.only(S),{className:H,style:{...S.props.style,...W},transform:L}))}}r.default=f,b(f,"displayName","Draggable"),b(f,"propTypes",{...m.default.propTypes,axis:t.default.oneOf(["both","x","y","none"]),bounds:t.default.oneOfType([t.default.shape({left:t.default.number,right:t.default.number,top:t.default.number,bottom:t.default.number}),t.default.string,t.default.oneOf([!1])]),defaultClassName:t.default.string,defaultClassNameDragging:t.default.string,defaultClassNameDragged:t.default.string,defaultPosition:t.default.shape({x:t.default.number,y:t.default.number}),positionOffset:t.default.shape({x:t.default.oneOfType([t.default.number,t.default.string]),y:t.default.oneOfType([t.default.number,t.default.string])}),position:t.default.shape({x:t.default.number,y:t.default.number}),className:d.dontSetMe,style:d.dontSetMe,transform:d.dontSetMe}),b(f,"defaultProps",{...m.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(oe)),oe}var Re;function dt(){if(Re)return K.exports;Re=1;const{default:r,DraggableCore:s}=lt();return K.exports=r,K.exports.default=r,K.exports.DraggableCore=s,K.exports}var ct=dt();const ut=Fe(ct);var j=function(){return j=Object.assign||function(r){for(var s,t=1,e=arguments.length;t<e;t++){s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])}return r},j.apply(this,arguments)},Pe={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},Ce={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},J={width:"20px",height:"20px",position:"absolute",zIndex:1},ht={top:j(j({},Pe),{top:"-5px"}),right:j(j({},Ce),{left:void 0,right:"-5px"}),bottom:j(j({},Pe),{top:void 0,bottom:"-5px"}),left:j(j({},Ce),{left:"-5px"}),topRight:j(j({},J),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:j(j({},J),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:j(j({},J),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:j(j({},J),{left:"-10px",top:"-10px",cursor:"nw-resize"})},pt=E.memo(function(r){var s=r.onResizeStart,t=r.direction,e=r.children,i=r.replaceStyles,o=r.className,l=E.useCallback(function(v){s(v,t)},[s,t]),d=E.useCallback(function(v){s(v,t)},[s,t]),m=E.useMemo(function(){return j(j({position:"absolute",userSelect:"none"},ht[t]),i??{})},[i,t]);return x.jsx("div",{className:o||void 0,style:m,onMouseDown:l,onTouchStart:d,children:e})}),ft=function(){var r=function(s,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},r(s,t)};return function(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(s,t);function e(){this.constructor=s}s.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),B=function(){return B=Object.assign||function(r){for(var s,t=1,e=arguments.length;t<e;t++){s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])}return r},B.apply(this,arguments)},gt={width:"auto",height:"auto"},ee=function(r,s,t){return Math.max(Math.min(r,t),s)},Ee=function(r,s,t){var e=Math.round(r/s);return e*s+t*(e-1)},G=function(r,s){return new RegExp(r,"i").test(s)},te=function(r){return!!(r.touches&&r.touches.length)},mt=function(r){return!!((r.clientX||r.clientX===0)&&(r.clientY||r.clientY===0))},Me=function(r,s,t){t===void 0&&(t=0);var e=s.reduce(function(o,l,d){return Math.abs(l-r)<Math.abs(s[o]-r)?d:o},0),i=Math.abs(s[e]-r);return t===0||i<t?s[e]:r},ce=function(r){return r=r.toString(),r==="auto"||r.endsWith("px")||r.endsWith("%")||r.endsWith("vh")||r.endsWith("vw")||r.endsWith("vmax")||r.endsWith("vmin")?r:"".concat(r,"px")},re=function(r,s,t,e){if(r&&typeof r=="string"){if(r.endsWith("px"))return Number(r.replace("px",""));if(r.endsWith("%")){var i=Number(r.replace("%",""))/100;return s*i}if(r.endsWith("vw")){var i=Number(r.replace("vw",""))/100;return t*i}if(r.endsWith("vh")){var i=Number(r.replace("vh",""))/100;return e*i}}return r},vt=function(r,s,t,e,i,o,l){return e=re(e,r.width,s,t),i=re(i,r.height,s,t),o=re(o,r.width,s,t),l=re(l,r.height,s,t),{maxWidth:typeof e>"u"?void 0:Number(e),maxHeight:typeof i>"u"?void 0:Number(i),minWidth:typeof o>"u"?void 0:Number(o),minHeight:typeof l>"u"?void 0:Number(l)}},yt=function(r){return Array.isArray(r)?r:[r,r]},bt=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],Te="__resizable_base__",xt=function(r){ft(s,r);function s(t){var e,i,o,l,d=r.call(this,t)||this;return d.ratio=1,d.resizable=null,d.parentLeft=0,d.parentTop=0,d.resizableLeft=0,d.resizableRight=0,d.resizableTop=0,d.resizableBottom=0,d.targetLeft=0,d.targetTop=0,d.delta={width:0,height:0},d.appendBase=function(){if(!d.resizable||!d.window)return null;var m=d.parentNode;if(!m)return null;var v=d.window.document.createElement("div");return v.style.width="100%",v.style.height="100%",v.style.position="absolute",v.style.transform="scale(0, 0)",v.style.left="0",v.style.flex="0 0 100%",v.classList?v.classList.add(Te):v.className+=Te,m.appendChild(v),v},d.removeBase=function(m){var v=d.parentNode;v&&v.removeChild(m)},d.state={isResizing:!1,width:(i=(e=d.propsSize)===null||e===void 0?void 0:e.width)!==null&&i!==void 0?i:"auto",height:(l=(o=d.propsSize)===null||o===void 0?void 0:o.height)!==null&&l!==void 0?l:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},d.onResizeStart=d.onResizeStart.bind(d),d.onMouseMove=d.onMouseMove.bind(d),d.onMouseUp=d.onMouseUp.bind(d),d}return Object.defineProperty(s.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||gt},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"size",{get:function(){var t=0,e=0;if(this.resizable&&this.window){var i=this.resizable.offsetWidth,o=this.resizable.offsetHeight,l=this.resizable.style.position;l!=="relative"&&(this.resizable.style.position="relative"),t=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:i,e=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:o,this.resizable.style.position=l}return{width:t,height:e}},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"sizeStyle",{get:function(){var t=this,e=this.props.size,i=function(d){var m;if(typeof t.state[d]>"u"||t.state[d]==="auto")return"auto";if(t.propsSize&&t.propsSize[d]&&(!((m=t.propsSize[d])===null||m===void 0)&&m.toString().endsWith("%"))){if(t.state[d].toString().endsWith("%"))return t.state[d].toString();var v=t.getParentSize(),z=Number(t.state[d].toString().replace("px","")),p=z/v[d]*100;return"".concat(p,"%")}return ce(t.state[d])},o=e&&typeof e.width<"u"&&!this.state.isResizing?ce(e.width):i("width"),l=e&&typeof e.height<"u"&&!this.state.isResizing?ce(e.height):i("height");return{width:o,height:l}},enumerable:!1,configurable:!0}),s.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var t=this.appendBase();if(!t)return{width:0,height:0};var e=!1,i=this.parentNode.style.flexWrap;i!=="wrap"&&(e=!0,this.parentNode.style.flexWrap="wrap"),t.style.position="relative",t.style.minWidth="100%",t.style.minHeight="100%";var o={width:t.offsetWidth,height:t.offsetHeight};return e&&(this.parentNode.style.flexWrap=i),this.removeBase(t),o},s.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},s.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},s.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var t=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:t.flexBasis!=="auto"?t.flexBasis:void 0})}},s.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},s.prototype.createSizeForCssProperty=function(t,e){var i=this.propsSize&&this.propsSize[e];return this.state[e]==="auto"&&this.state.original[e]===t&&(typeof i>"u"||i==="auto")?"auto":t},s.prototype.calculateNewMaxFromBoundary=function(t,e){var i=this.props.boundsByDirection,o=this.state.direction,l=i&&G("left",o),d=i&&G("top",o),m,v;if(this.props.bounds==="parent"){var z=this.parentNode;z&&(m=l?this.resizableRight-this.parentLeft:z.offsetWidth+(this.parentLeft-this.resizableLeft),v=d?this.resizableBottom-this.parentTop:z.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(m=l?this.resizableRight:this.window.innerWidth-this.resizableLeft,v=d?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(m=l?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),v=d?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return m&&Number.isFinite(m)&&(t=t&&t<m?t:m),v&&Number.isFinite(v)&&(e=e&&e<v?e:v),{maxWidth:t,maxHeight:e}},s.prototype.calculateNewSizeFromDirection=function(t,e){var i=this.props.scale||1,o=yt(this.props.resizeRatio||1),l=o[0],d=o[1],m=this.state,v=m.direction,z=m.original,p=this.props,g=p.lockAspectRatio,y=p.lockAspectRatioExtraHeight,b=p.lockAspectRatioExtraWidth,D=z.width,w=z.height,f=y||0,n=b||0;return G("right",v)&&(D=z.width+(t-z.x)*l/i,g&&(w=(D-n)/this.ratio+f)),G("left",v)&&(D=z.width-(t-z.x)*l/i,g&&(w=(D-n)/this.ratio+f)),G("bottom",v)&&(w=z.height+(e-z.y)*d/i,g&&(D=(w-f)*this.ratio+n)),G("top",v)&&(w=z.height-(e-z.y)*d/i,g&&(D=(w-f)*this.ratio+n)),{newWidth:D,newHeight:w}},s.prototype.calculateNewSizeFromAspectRatio=function(t,e,i,o){var l=this.props,d=l.lockAspectRatio,m=l.lockAspectRatioExtraHeight,v=l.lockAspectRatioExtraWidth,z=typeof o.width>"u"?10:o.width,p=typeof i.width>"u"||i.width<0?t:i.width,g=typeof o.height>"u"?10:o.height,y=typeof i.height>"u"||i.height<0?e:i.height,b=m||0,D=v||0;if(d){var w=(g-b)*this.ratio+D,f=(y-b)*this.ratio+D,n=(z-D)/this.ratio+b,c=(p-D)/this.ratio+b,h=Math.max(z,w),S=Math.min(p,f),P=Math.max(g,n),a=Math.min(y,c);t=ee(t,h,S),e=ee(e,P,a)}else t=ee(t,z,p),e=ee(e,g,y);return{newWidth:t,newHeight:e}},s.prototype.setBoundingClientRect=function(){var t=1/(this.props.scale||1);if(this.props.bounds==="parent"){var e=this.parentNode;if(e){var i=e.getBoundingClientRect();this.parentLeft=i.left*t,this.parentTop=i.top*t}}if(this.props.bounds&&typeof this.props.bounds!="string"){var o=this.props.bounds.getBoundingClientRect();this.targetLeft=o.left*t,this.targetTop=o.top*t}if(this.resizable){var l=this.resizable.getBoundingClientRect(),d=l.left,m=l.top,v=l.right,z=l.bottom;this.resizableLeft=d*t,this.resizableRight=v*t,this.resizableTop=m*t,this.resizableBottom=z*t}},s.prototype.onResizeStart=function(t,e){if(!(!this.resizable||!this.window)){var i=0,o=0;if(t.nativeEvent&&mt(t.nativeEvent)?(i=t.nativeEvent.clientX,o=t.nativeEvent.clientY):t.nativeEvent&&te(t.nativeEvent)&&(i=t.nativeEvent.touches[0].clientX,o=t.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var l=this.props.onResizeStart(t,e,this.resizable);if(l===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var d,m=this.window.getComputedStyle(this.resizable);if(m.flexBasis!=="auto"){var v=this.parentNode;if(v){var z=this.window.getComputedStyle(v).flexDirection;this.flexDir=z.startsWith("row")?"row":"column",d=m.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var p={original:{x:i,y:o,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:B(B({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(t.target).cursor||"auto"}),direction:e,flexBasis:d};this.setState(p)}},s.prototype.onMouseMove=function(t){var e=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&te(t))try{t.preventDefault(),t.stopPropagation()}catch{}var i=this.props,o=i.maxWidth,l=i.maxHeight,d=i.minWidth,m=i.minHeight,v=te(t)?t.touches[0].clientX:t.clientX,z=te(t)?t.touches[0].clientY:t.clientY,p=this.state,g=p.direction,y=p.original,b=p.width,D=p.height,w=this.getParentSize(),f=vt(w,this.window.innerWidth,this.window.innerHeight,o,l,d,m);o=f.maxWidth,l=f.maxHeight,d=f.minWidth,m=f.minHeight;var n=this.calculateNewSizeFromDirection(v,z),c=n.newHeight,h=n.newWidth,S=this.calculateNewMaxFromBoundary(o,l);this.props.snap&&this.props.snap.x&&(h=Me(h,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(c=Me(c,this.props.snap.y,this.props.snapGap));var P=this.calculateNewSizeFromAspectRatio(h,c,{width:S.maxWidth,height:S.maxHeight},{width:d,height:m});if(h=P.newWidth,c=P.newHeight,this.props.grid){var a=Ee(h,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),u=Ee(c,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),N=this.props.snapGap||0,R=N===0||Math.abs(a-h)<=N?a:h,M=N===0||Math.abs(u-c)<=N?u:c;h=R,c=M}var C={width:h-y.width,height:c-y.height};if(this.delta=C,b&&typeof b=="string"){if(b.endsWith("%")){var T=h/w.width*100;h="".concat(T,"%")}else if(b.endsWith("vw")){var W=h/this.window.innerWidth*100;h="".concat(W,"vw")}else if(b.endsWith("vh")){var L=h/this.window.innerHeight*100;h="".concat(L,"vh")}}if(D&&typeof D=="string"){if(D.endsWith("%")){var T=c/w.height*100;c="".concat(T,"%")}else if(D.endsWith("vw")){var W=c/this.window.innerWidth*100;c="".concat(W,"vw")}else if(D.endsWith("vh")){var L=c/this.window.innerHeight*100;c="".concat(L,"vh")}}var k={width:this.createSizeForCssProperty(h,"width"),height:this.createSizeForCssProperty(c,"height")};this.flexDir==="row"?k.flexBasis=k.width:this.flexDir==="column"&&(k.flexBasis=k.height);var U=this.state.width!==k.width,$=this.state.height!==k.height,q=this.state.flexBasis!==k.flexBasis,H=U||$||q;H&&je.flushSync(function(){e.setState(k)}),this.props.onResize&&H&&this.props.onResize(t,g,this.resizable,C)}},s.prototype.onMouseUp=function(t){var e,i,o=this.state,l=o.isResizing,d=o.direction;o.original,!(!l||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(t,d,this.resizable,this.delta),this.props.size&&this.setState({width:(e=this.props.size.width)!==null&&e!==void 0?e:"auto",height:(i=this.props.size.height)!==null&&i!==void 0?i:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:B(B({},this.state.backgroundStyle),{cursor:"auto"})}))},s.prototype.updateSize=function(t){var e,i;this.setState({width:(e=t.width)!==null&&e!==void 0?e:"auto",height:(i=t.height)!==null&&i!==void 0?i:"auto"})},s.prototype.renderResizer=function(){var t=this,e=this.props,i=e.enable,o=e.handleStyles,l=e.handleClasses,d=e.handleWrapperStyle,m=e.handleWrapperClass,v=e.handleComponent;if(!i)return null;var z=Object.keys(i).map(function(p){return i[p]!==!1?x.jsx(pt,{direction:p,onResizeStart:t.onResizeStart,replaceStyles:o&&o[p],className:l&&l[p],children:v&&v[p]?v[p]:null},p):null});return x.jsx("div",{className:m,style:d,children:z})},s.prototype.render=function(){var t=this,e=Object.keys(this.props).reduce(function(l,d){return bt.indexOf(d)!==-1||(l[d]=t.props[d]),l},{}),i=B(B(B({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(i.flexBasis=this.state.flexBasis);var o=this.props.as||"div";return x.jsxs(o,B({style:i,className:this.props.className},e,{ref:function(l){l&&(t.resizable=l)},children:[this.state.isResizing&&x.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},s.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},s}(E.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ue=function(r,s){return ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},ue(r,s)};function wt(r,s){ue(r,s);function t(){this.constructor=r}r.prototype=s===null?Object.create(s):(t.prototype=s.prototype,new t)}var O=function(){return O=Object.assign||function(s){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(s[o]=t[o])}return s},O.apply(this,arguments)};function St(r,s){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&s.indexOf(e)<0&&(t[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,e=Object.getOwnPropertySymbols(r);i<e.length;i++)s.indexOf(e[i])<0&&Object.prototype.propertyIsEnumerable.call(r,e[i])&&(t[e[i]]=r[e[i]]);return t}var zt={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},Dt=function(r){return{bottom:r,bottomLeft:r,bottomRight:r,left:r,right:r,top:r,topLeft:r,topRight:r}},Nt=function(r){wt(s,r);function s(t){var e=r.call(this,t)||this;return e.resizingPosition={x:0,y:0},e.offsetFromParent={left:0,top:0},e.resizableElement={current:null},e.originalPosition={x:0,y:0},e.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:t.maxWidth,maxHeight:t.maxHeight},e.onResizeStart=e.onResizeStart.bind(e),e.onResize=e.onResize.bind(e),e.onResizeStop=e.onResizeStop.bind(e),e.onDragStart=e.onDragStart.bind(e),e.onDrag=e.onDrag.bind(e),e.onDragStop=e.onDragStop.bind(e),e.getMaxSizesFromProps=e.getMaxSizesFromProps.bind(e),e}return s.prototype.componentDidMount=function(){this.updateOffsetFromParent();var t=this.offsetFromParent,e=t.left,i=t.top,o=this.getDraggablePosition(),l=o.x,d=o.y;this.draggable.setState({x:l-e,y:d-i}),this.forceUpdate()},s.prototype.getDraggablePosition=function(){var t=this.draggable.state,e=t.x,i=t.y;return{x:e,y:i}},s.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},s.prototype.getParentSize=function(){return this.resizable.getParentSize()},s.prototype.getMaxSizesFromProps=function(){var t=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,e=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:t,maxHeight:e}},s.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},s.prototype.getOffsetHeight=function(t){var e=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/e;case"body":return document.body.offsetHeight/e;default:return t.offsetHeight}},s.prototype.getOffsetWidth=function(t){var e=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/e;case"body":return document.body.offsetWidth/e;default:return t.offsetWidth}},s.prototype.onDragStart=function(t,e){this.props.onDragStart&&this.props.onDragStart(t,e);var i=this.getDraggablePosition();if(this.originalPosition=i,!!this.props.bounds){var o=this.getParent(),l=this.props.scale,d;if(this.props.bounds==="parent")d=o;else if(this.props.bounds==="body"){var m=o.getBoundingClientRect(),v=m.left,z=m.top,p=document.body.getBoundingClientRect(),g=-(v-o.offsetLeft*l-p.left)/l,y=-(z-o.offsetTop*l-p.top)/l,b=(document.body.offsetWidth-this.resizable.size.width*l)/l+g,D=(document.body.offsetHeight-this.resizable.size.height*l)/l+y;return this.setState({bounds:{top:y,right:b,bottom:D,left:g}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var w=o.getBoundingClientRect(),f=w.left,n=w.top,c=-(f-o.offsetLeft*l)/l,h=-(n-o.offsetTop*l)/l,b=(window.innerWidth-this.resizable.size.width*l)/l+c,D=(window.innerHeight-this.resizable.size.height*l)/l+h;return this.setState({bounds:{top:h,right:b,bottom:D,left:c}})}else typeof this.props.bounds=="string"?d=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(d=this.props.bounds);if(!(!(d instanceof HTMLElement)||!(o instanceof HTMLElement))){var S=d.getBoundingClientRect(),P=S.left,a=S.top,u=o.getBoundingClientRect(),N=u.left,R=u.top,M=(P-N)/l,C=a-R;if(this.resizable){this.updateOffsetFromParent();var T=this.offsetFromParent;this.setState({bounds:{top:C-T.top,right:M+(d.offsetWidth-this.resizable.size.width)-T.left/l,bottom:C+(d.offsetHeight-this.resizable.size.height)-T.top,left:M-T.left/l}})}}}},s.prototype.onDrag=function(t,e){if(this.props.onDrag){var i=this.offsetFromParent,o=i.left,l=i.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(t,O(O({},e),{x:e.x+o,y:e.y+l}));if(this.props.dragAxis==="x")return this.props.onDrag(t,O(O({},e),{x:e.x+o,y:this.originalPosition.y+l,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(t,O(O({},e),{x:this.originalPosition.x+o,y:e.y+l,deltaX:0}))}},s.prototype.onDragStop=function(t,e){if(this.props.onDragStop){var i=this.offsetFromParent,o=i.left,l=i.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(t,O(O({},e),{x:e.x+o,y:e.y+l}));if(this.props.dragAxis==="x")return this.props.onDragStop(t,O(O({},e),{x:e.x+o,y:this.originalPosition.y+l,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(t,O(O({},e),{x:this.originalPosition.x+o,y:e.y+l,deltaX:0}))}},s.prototype.onResizeStart=function(t,e,i){t.stopPropagation(),this.setState({resizing:!0});var o=this.props.scale,l=this.offsetFromParent,d=this.getDraggablePosition();if(this.resizingPosition={x:d.x+l.left,y:d.y+l.top},this.originalPosition=d,this.props.bounds){var m=this.getParent(),v=void 0;this.props.bounds==="parent"?v=m:this.props.bounds==="body"?v=document.body:this.props.bounds==="window"?v=window:typeof this.props.bounds=="string"?v=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(v=this.props.bounds);var z=this.getSelfElement();if(z instanceof Element&&(v instanceof HTMLElement||v===window)&&m instanceof HTMLElement){var p=this.getMaxSizesFromProps(),g=p.maxWidth,y=p.maxHeight,b=this.getParentSize();if(g&&typeof g=="string")if(g.endsWith("%")){var D=Number(g.replace("%",""))/100;g=b.width*D}else g.endsWith("px")&&(g=Number(g.replace("px","")));if(y&&typeof y=="string")if(y.endsWith("%")){var D=Number(y.replace("%",""))/100;y=b.height*D}else y.endsWith("px")&&(y=Number(y.replace("px","")));var w=z.getBoundingClientRect(),f=w.left,n=w.top,c=this.props.bounds==="window"?{left:0,top:0}:v.getBoundingClientRect(),h=c.left,S=c.top,P=this.getOffsetWidth(v),a=this.getOffsetHeight(v),u=e.toLowerCase().endsWith("left"),N=e.toLowerCase().endsWith("right"),R=e.startsWith("top"),M=e.startsWith("bottom");if((u||R)&&this.resizable){var C=(f-h)/o+this.resizable.size.width;this.setState({maxWidth:C>Number(g)?g:C})}if(N||this.props.lockAspectRatio&&!u&&!R){var C=P+(h-f)/o;this.setState({maxWidth:C>Number(g)?g:C})}if((R||u)&&this.resizable){var C=(n-S)/o+this.resizable.size.height;this.setState({maxHeight:C>Number(y)?y:C})}if(M||this.props.lockAspectRatio&&!R&&!u){var C=a+(S-n)/o;this.setState({maxHeight:C>Number(y)?y:C})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(t,e,i)},s.prototype.onResize=function(t,e,i,o){var l=this,d={x:this.originalPosition.x,y:this.originalPosition.y},m=-o.width,v=-o.height,z=["top","left","topLeft","bottomLeft","topRight"];z.includes(e)&&(e==="bottomLeft"?d.x+=m:(e==="topRight"||(d.x+=m),d.y+=v));var p=this.draggable.state;(d.x!==p.x||d.y!==p.y)&&je.flushSync(function(){l.draggable.setState(d)}),this.updateOffsetFromParent();var g=this.offsetFromParent,y=this.getDraggablePosition().x+g.left,b=this.getDraggablePosition().y+g.top;this.resizingPosition={x:y,y:b},this.props.onResize&&this.props.onResize(t,e,i,o,{x:y,y:b})},s.prototype.onResizeStop=function(t,e,i,o){this.setState({resizing:!1});var l=this.getMaxSizesFromProps(),d=l.maxWidth,m=l.maxHeight;this.setState({maxWidth:d,maxHeight:m}),this.props.onResizeStop&&this.props.onResizeStop(t,e,i,o,this.resizingPosition)},s.prototype.updateSize=function(t){this.resizable&&this.resizable.updateSize({width:t.width,height:t.height})},s.prototype.updatePosition=function(t){this.draggable.setState(t)},s.prototype.updateOffsetFromParent=function(){var t=this.props.scale,e=this.getParent(),i=this.getSelfElement();if(!e||i===null)return{top:0,left:0};var o=e.getBoundingClientRect(),l=o.left,d=o.top,m=i.getBoundingClientRect(),v=this.getDraggablePosition(),z=e.scrollLeft,p=e.scrollTop;this.offsetFromParent={left:m.left-l+z-v.x*t,top:m.top-d+p-v.y*t}},s.prototype.render=function(){var t=this,e=this.props,i=e.disableDragging,o=e.style,l=e.dragHandleClassName,d=e.position,m=e.onMouseDown,v=e.onMouseUp,z=e.dragAxis,p=e.dragGrid,g=e.bounds,y=e.enableUserSelectHack,b=e.cancel,D=e.children;e.onResizeStart,e.onResize,e.onResizeStop,e.onDragStart,e.onDrag,e.onDragStop;var w=e.resizeHandleStyles,f=e.resizeHandleClasses,n=e.resizeHandleComponent,c=e.enableResizing,h=e.resizeGrid,S=e.resizeHandleWrapperClass,P=e.resizeHandleWrapperStyle,a=e.scale,u=e.allowAnyClick,N=e.dragPositionOffset,R=St(e,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),M=this.props.default?O({},this.props.default):void 0;delete R.default;var C=i||l?{cursor:"auto"}:{cursor:"move"},T=O(O(O({},zt),C),o),W=this.offsetFromParent,L=W.left,k=W.top,U;d&&(U={x:d.x-L,y:d.y-k});var $=this.state.resizing?void 0:U,q=this.state.resizing?"both":z;return E.createElement(ut,{ref:function(H){H&&(t.draggable=H)},handle:l?".".concat(l):void 0,defaultPosition:M,onMouseDown:m,onMouseUp:v,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:q,disabled:i,grid:p,bounds:g?this.state.bounds:void 0,position:$,enableUserSelectHack:y,cancel:b,scale:a,allowAnyClick:u,nodeRef:this.resizableElement,positionOffset:N},E.createElement(xt,O({},R,{ref:function(H){H&&(t.resizable=H,t.resizableElement.current=H.resizable)},defaultSize:M,size:this.props.size,enable:typeof c=="boolean"?Dt(c):c,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:T,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:h,handleWrapperClass:S,handleWrapperStyle:P,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:w,handleClasses:f,handleComponent:n,scale:this.props.scale}),D))},s.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},s}(E.PureComponent);const Rt=({children:r,title:s="Live Preview",defaultWidth:t=420,defaultHeight:e=480,onClose:i})=>{const[o,l]=E.useState(!0);return o?x.jsxs(Nt,{default:{x:120,y:80,width:t,height:e},minWidth:280,minHeight:200,bounds:"window",dragHandleClassName:"floating-preview-title",className:"z-50 fixed shadow-2xl rounded-xl border border-cyan-400 bg-white dark:bg-gray-900 transition-colors",children:[x.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-cyan-300 bg-gradient-to-r from-cyan-500/20 to-cyan-800/10 rounded-t-xl cursor-move floating-preview-title",children:[x.jsx("span",{className:"font-semibold text-cyan-700 dark:text-cyan-200 select-none",children:s}),x.jsx("button",{onClick:()=>{l(!1),i&&i()},className:"text-cyan-600 hover:text-red-500 text-lg font-bold px-2 rounded",title:"Close preview",children:""})]}),x.jsx("div",{className:"overflow-auto p-3 h-full bg-white dark:bg-gray-900 rounded-b-xl",children:r})]}):null},Pt=(r={})=>{const[s,t]=E.useState(!1),e=E.useRef(null),{rootMargin:i="200px",threshold:o=0,triggerOnce:l=!0}=r;return E.useEffect(()=>{if(!e.current||s&&l)return;const d=e.current,m=new IntersectionObserver(v=>{const[z]=v;z.isIntersecting?(t(!0),l&&m.unobserve(d)):l||t(!1)},{rootMargin:i,threshold:o});return m.observe(d),()=>{m.unobserve(d),m.disconnect()}},[i,o,l,s]),{ref:e,isVisible:s}},he=({src:r,alt:s,className:t="",width:e,height:i,placeholderColor:o="#f3f4f6",style:l={},onClick:d,gallerySize:m=!1,sizes:v="100vw",loadingStrategy:z="lazy"})=>{const[p,g]=E.useState(null),[y,b]=E.useState(!1),[D,w]=E.useState(!1),{ref:f,isVisible:n}=Pt({rootMargin:z==="eager"?"400px":"200px",threshold:0,triggerOnce:!0}),c=r.includes("firebasestorage.googleapis.com"),h=r.includes("supabase.co/storage");E.useEffect(()=>{if(!n)return;let R=!0,M=null;const C=setTimeout(()=>{R&&!p&&!D&&console.log("Image loading taking longer than expected:",r)},3e3);return(async()=>{try{if(c&&!m){g(r),b(!0);return}if(h)try{const W=await fe(r);if(R&&(g(W),!m)){b(!0);return}}catch(W){if(console.error("Error getting proxied URL:",W),R&&(g(r),!m)){b(!0);return}}if(m)try{const L=await(await fetch(r)).blob(),k=await Ue(L,400,400);R&&(M=URL.createObjectURL(k),g(M))}catch(W){console.warn(`Failed to resize image, using original: ${r}`,W),R&&g(r)}else g(r)}catch(W){console.error(`Failed to load image: ${r}`,W),R&&(w(!0),c&&(g(r),b(!0)))}})(),()=>{R=!1,clearTimeout(C),M&&URL.revokeObjectURL(M)}},[n,r,m,c,h]);const S=()=>{b(!0)},P=()=>{w(!0),console.error(`Error loading image: ${r}`)},[a,u]=E.useState(void 0);E.useEffect(()=>{!r.startsWith("data:")&&!r.startsWith("blob:")?h?(async()=>{try{const R=await fe(r);u(`${R} 1x, ${R} 2x`)}catch(R){console.error("Error generating srcSet:",R),u(`${r} 1x, ${r} 2x`)}})():u(`${r} 1x, ${r} 2x`):u(void 0)},[r,h]);const N=e&&i?i/e*100:0;return x.jsxs("div",{ref:f,className:`relative overflow-hidden ${t}`,style:{backgroundColor:o,paddingBottom:N?`${N}%`:void 0,...l},onClick:d,children:[p&&x.jsx("img",{src:p,alt:s,className:`transition-opacity duration-300 ${y?"opacity-100":"opacity-0"} absolute inset-0 w-full h-full object-contain`,onLoad:S,onError:P,width:e,height:i,sizes:v,srcSet:a}),(!p||!y)&&!D&&x.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:x.jsx("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-blue-500 rounded-full animate-spin"})}),D&&x.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:x.jsx("div",{className:"text-red-500",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})})]})},Ct=({images:r,onImageClick:s,className:t="",itemClassName:e="",columnCount:i=3,itemGap:o=16,loadingStrategy:l="lazy"})=>{const[d,m]=E.useState(0),[v,z]=E.useState(20),p=E.useRef(null),g=E.useRef(null),y=E.useRef(null),b=E.useCallback(()=>{if(!p.current)return 20;const n=p.current.clientWidth,c=window.innerHeight,S=(n-(i-1)*o)/i;return(Math.ceil(c/(S+o))+2)*i},[i,o]);E.useEffect(()=>{if(y.current)return g.current=new IntersectionObserver(n=>{const[c]=n;if(c.isIntersecting&&v<r.length){const h=b();z(S=>Math.min(S+h,r.length))}},{rootMargin:"200px"}),g.current.observe(y.current),()=>{g.current&&g.current.disconnect()}},[v,r.length,b]),E.useEffect(()=>{const n=()=>{const c=b();z(h=>Math.min(d+c,r.length))};return window.addEventListener("resize",n),n(),()=>{window.removeEventListener("resize",n)}},[d,r.length,b]);const D=r.slice(d,v),w=n=>{s&&s(n)},f=`repeat(${i}, 1fr)`;return x.jsxs("div",{ref:p,className:`w-full ${t}`,children:[x.jsx("div",{className:"grid gap-4",style:{gridTemplateColumns:f,gap:`${o}px`},children:D.map(n=>x.jsxs("div",{className:`cursor-pointer group relative overflow-hidden rounded-lg ${e}`,onClick:()=>w(n),children:[x.jsx(he,{src:n.src,alt:n.alt||"Gallery image",className:"w-full h-full transition-transform duration-300",style:{transform:`scale(${n.scale||1})`,transformOrigin:"center center"},gallerySize:!0,loadingStrategy:l,sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw"}),x.jsx("div",{className:"absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity"}),n.displayText&&x.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-2 bg-black bg-opacity-50 text-white",children:x.jsx("p",{className:"text-sm truncate",children:n.displayText})})]},n.id))}),v<r.length&&x.jsx("div",{ref:y,className:"w-full h-20 flex items-center justify-center mt-4",children:x.jsx("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-blue-500 rounded-full animate-spin"})}),v>=r.length&&r.length>0&&x.jsx("div",{className:"w-full text-center text-gray-500 mt-4 py-4",children:"All images loaded"}),r.length===0&&x.jsx("div",{className:"w-full text-center text-gray-500 mt-4 py-8",children:"No images available"})]})},Et={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{staggerChildren:.1}}},ie={initial:{opacity:0,y:10},animate:{opacity:1,y:0}},Ht=()=>{const{getBannerImage:r,getScannerImages:s}=Xe();Ve();const{theme:t}=Ke(),{state:e,dispatch:i}=Oe(),{questions:o}=Ye(),{sections:l}=$e(),[d,m]=X.useState(null),[v,z]=X.useState(""),[p,g]=X.useState(!0);X.useEffect(()=>{i({type:"SET_QUESTIONS",payload:o})},[o,i]),X.useEffect(()=>{i({type:"SET_SECTIONS",payload:l})},[l,i]);const y=r(),[b,D]=X.useState([]);X.useEffect(()=>{try{const n=s();D(n),console.log("Scanner Images loaded:",n.length)}catch(n){console.error("Error loading scanner images:",n),D([])}},[s]);const w=(n,c)=>{i({type:"SET_ANSWER",payload:{questionId:n,value:c}})},f=n=>{const c=e.answers[n.id];switch(n.type){case"text":return x.jsx(Ge,{label:n.text,value:c||"",onChange:h=>w(n.id,h.target.value),required:n.required,className:"text-gray-900 dark:text-white bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600"});case"choice":return x.jsxs("div",{className:"space-y-3",children:[x.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[n.text," ",n.required&&x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:n.options?.map(h=>x.jsxs("label",{className:`
                    flex flex-col items-center p-4 border rounded-lg cursor-pointer
                    transition-all duration-150 ease-in-out
                    ${c===h.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 ring-2 ring-blue-500":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700"}
                  `,children:[x.jsx("input",{type:"radio",name:n.id,value:h.value,checked:c===h.value,onChange:()=>w(n.id,h.value),className:"sr-only"}),h.imageUrl&&x.jsx("img",{src:h.imagePreview||h.imageUrl,alt:h.text,className:"w-full h-32 object-contain mb-2 rounded",style:{transform:`scale(${h.scale||1})`}}),x.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white text-center",children:h.text})]},h.id))})]});case"boolean":return x.jsx(qe,{label:n.text,checked:!!c,onChange:h=>w(n.id,h.target.checked),required:n.required});default:return null}};return x.jsx("div",{className:t==="dark"?"dark":"",children:x.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 transition-colors duration-200 futuristic-grid-bg",children:[x.jsx(Qe,{}),x.jsxs(Y.div,{variants:Et,initial:"initial",animate:"animate",className:"relative",children:[x.jsx(Y.div,{variants:ie,className:"py-12 px-4 text-center",children:x.jsx(V,{text:"COMET Scanner Template Wizard",as:"h1",variant:"title",className:"text-5xl md:text-6xl lg:text-7xl font-bold font-display tracking-tight"})}),x.jsx(Y.div,{variants:ie,className:"relative w-full mb-12 bg-gray-100 dark:bg-gray-800 holo-glow",children:y?x.jsx("div",{className:"relative w-full flex items-center justify-center overflow-hidden",children:x.jsx("div",{className:"w-full",style:{paddingBottom:"42.85%"},children:x.jsx(he,{src:y.src,alt:"COMET Scanner Banner",className:"absolute top-0 left-0 w-full h-full object-contain transition-transform duration-300",style:{transform:`scale(${y.scale||1})`,transformOrigin:"center center"},loadingStrategy:"eager"})})}):x.jsx("div",{className:"w-full",style:{paddingBottom:"42.85%"},children:x.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center",children:x.jsx(V,{text:"Visualize Your Data with COMET Scanner",as:"span",variant:"subtitle",className:"text-3xl font-semibold"})})})}),b.length>0&&x.jsxs(Y.div,{variants:ie,className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-16",children:[x.jsx(V,{text:"Scanner Variations",as:"h2",variant:"title",className:"text-4xl md:text-5xl font-bold mb-8 text-center"}),x.jsx(Ct,{images:b,onImageClick:n=>{m(n.src),z(n.displayText||"Scanner Variation")},columnCount:3,itemGap:16,className:"mb-8",itemClassName:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden transform transition-transform hover:scale-105",loadingStrategy:"lazy"})]}),x.jsxs("div",{className:"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 py-16 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[x.jsx("div",{className:"lg:col-span-2 space-y-8",children:x.jsxs(Y.div,{variants:ie,children:[x.jsx(V,{text:"Configure Your Template",as:"h2",variant:"subtitle",className:"text-3xl font-bold mb-6"}),x.jsxs("div",{className:"space-y-6",children:[e.questions.map(n=>x.jsx("div",{className:"p-6 rounded-lg shadow border border-gray-200 dark:border-gray-700 futuristic-container",children:f(n)},n.id)),e.questions.length===0&&x.jsx(V,{text:"No questions configured yet. Please set them up in the Admin Dashboard.",as:"p",className:"text-gray-500 dark:text-gray-400"})]})]})}),x.jsx("div",{className:"lg:col-span-1 flex flex-col items-end",children:x.jsxs("button",{className:"mb-4 px-4 py-2 bg-cyan-600 text-white rounded hover:bg-cyan-700 transition",onClick:()=>g(n=>!n),children:[p?"Hide":"Show"," Live Preview"]})})]})]}),p&&x.jsx(Rt,{title:"Live Code Preview",onClose:()=>g(!1),children:x.jsx(tt,{})}),d&&x.jsx(et,{isOpen:!0,onClose:()=>{m(null),z("")},title:v,size:"xl",children:x.jsx("div",{className:"relative",children:x.jsx("div",{className:"flex justify-center items-center bg-white dark:bg-gray-800 rounded-lg p-4",children:x.jsx("div",{className:"holo-glow",children:x.jsx(he,{src:d,alt:v,className:"max-w-full max-h-[80vh] object-contain",loadingStrategy:"eager"})})})})})]})})};export{Ht as default};
